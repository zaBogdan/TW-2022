version: "3.9"  # optional since v1.27.0
services:
  Authentication:
    build:
      dockerfile: ./services/authentication/Dockerfile
      context: .
      args:
        folder_name: authentication
        api_port: 3100
    image: abl/authentication-service
    restart: always
  Domains:
    build:
      dockerfile: ./deploy/Dockerfile
      context: .
      args:
        folder_name: domains
        api_port: 3101
    image: abl/domains-service
    restart: always
  Events:
    build:
      dockerfile: ./deploy/Dockerfile
      context: .
      args:
        folder_name: events
        api_port: 3102
    image: abl/events-service
    restart: always
  User:
    build:
      dockerfile: ./deploy/Dockerfile
      context: .
      args:
        folder_name: user
        api_port: 3104
    image: abl/user-service
    restart: always
  DomainUser:
    build:
      dockerfile: ./deploy/Dockerfile
      context: .
      args:
        folder_name: domain_users
        api_port: 3105
    image: abl/domain_users-service
    restart: always
  Gateway:
    build:
      dockerfile: ./deploy/Dockerfile
      context: .
      args:
        folder_name: gateway
        api_port: 3000
    image: abl/gateway-service
    restart: always
    ports:
      - '3000:3000'